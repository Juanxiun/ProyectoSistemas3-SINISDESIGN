<div class="recuperar-page">
  <img src="/images/LogoSINISDESIGN.png" alt="Logo" class="logo" />
  <h2>Recuperar Contraseña</h2>
  <p class="subtitle">Ingresa tu correo y el código enviado para continuar</p>

  <form [formGroup]="recuperarForm" (ngSubmit)="onSubmit()">
    <!-- ================== EMAIL ================== -->
    <label for="email">Correo Electrónico</label>
    <input
      type="email"
      id="email"
      formControlName="correo"
      placeholder="Ingresa tu correo registrado"
      [class.input-error]="submitted && f['correo'].errors"
      [class.input-success]="submitted && !f['correo'].errors && f['correo'].value"
    />

    <div class="error-message" *ngIf="submitted && f['correo'].errors">
      <small *ngIf="f['correo'].errors['required']">El correo es requerido.</small>
      <small *ngIf="f['correo'].errors['pattern']">Debe ser un correo válido (debe contener @).</small>
    </div>

    <button type="button" class="btn" (click)="mandarCodigo()">Mandar código</button>

    <!-- ================== CÓDIGO DE VERIFICACIÓN ================== -->
    <label for="codigo">Código de Verificación</label>
    <input
      type="text"
      id="codigo"
      formControlName="codigo"
      placeholder="Ingresa el código recibido"
      [class.input-error]="submitted && f['codigo'].errors"
      [class.input-success]="submitted && !f['codigo'].errors && f['codigo'].value"
    />

    <div class="error-message" *ngIf="submitted && f['codigo'].errors">
      <small *ngIf="f['codigo'].errors['required']">El código de verificación es requerido.</small>
      <small *ngIf="f['codigo'].errors['minlength']">Debe tener al menos 4 caracteres.</small>
      <small *ngIf="f['codigo'].errors['maxlength']">No puede exceder 8 caracteres.</small>
    </div>

    <button class="btn" type="submit">Verificar Código</button>
  </form>

  <div class="links">
    <a href="/login">← Volver al inicio de sesión</a>
  </div>
</div>
